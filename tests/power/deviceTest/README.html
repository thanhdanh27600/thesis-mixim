<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta name="generator" content="HTML::TextToHTML v2.51"/>
</head>
<body>
<h1><a name="section_1">Device Test</a></h1>

<p>Fundamental test case, used for basic unit testing.  The Host includes
only the Battery and the DutyCycleSimple device.
</p>
<p>The tests go through various relations between events and parameters
(i.e.  CURRENT messages at duty cycle boundary, resolution interval
updates of battery capacity, host failure).  Also checks various
combinations of data collection parameters.  See below and omnetpp.ini
for details.
</p>
<p>Run each test individually in order.
</p>
<p>./deviceTest -r $i 
</p>
<p>Compare output files with the valid/ directory.  Note that Run 13 and
14 do not have an output vector, only omnetpp.sca.
</p>
<p>diff omnetpp.sca valid/omnetpp.sca<br/>
diff omnetpp_$i.vec valid/omnetpp_$i.vec
</p>
<h1><a name="section_2">Details</a></h1>

<p>Run 1 - resolution &lt; cycle, aligned to cycle boundary, battery fails at cycle boundary
</p>
<p>Run 2 - resolution &lt; cycle, not aligned to cycle boundary, battery fails at cycle boundary
</p>
<p>Run 3 - resolution &gt;&gt; cycle (not a sensible configuration), note that
</p><p>    failure is detected late
</p>
<p>Run 4 - initial capacity &lt; 1.0, battery fails mid cycle
</p>
<p>Run 5 - sim-time ends before battery fails, not aligned to resolution
</p>
<p>Run 6 - sim-time ends before battery fails, aligned to resolution
</p>
<p>Run 7 - time series with publishTime only, time &gt; resolution
</p>
<p>Run 8 - time series with publishTime only, time &lt;  resolution
</p>
<p>Run 9 - time series with publishDelta only, delta large
</p>
<p>Run 10 - time series with publishDelta only, delta small
</p>
<p>Run 11 - check estimate vector
</p>
<p>Run 12 - check estimate vector, initial capacity &lt; 1.0  (matches residual)
</p>
<p>Run 13 - turn off detail and time series
</p>
<p>Run 14 - turn off time series
</p>

</body>
</html>
